<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Ruang Dokter â€” Konsul IGD</title>
<link rel="icon" href="favicon.png">
<link rel="stylesheet" href="style.css">
</head>
<body>
<header class="header">
<div class="brand"><img id="logoImg" src="logo_light.png" alt="Ruang Dokter" height="28"> <span class="brand-text">Ruang Dokter</span></div>
<div class="header-actions">
<button id="settingsBtn" class="btn small">Pengaturan</button>
<button id="themeToggle" class="btn small" title="Toggle theme">ðŸŒ™</button>
</div>
</header>

<main class="container">
<section class="left">
<h3>Input Konsul â€” cepat</h3>

<label>Nama Dokter</label>
<input id="namaDokter" placeholder="dr. Agung Satria">

<label>Nama RS</label>
<input id="namaRS" placeholder="IGD RSAM">

<hr>

<label>Nama Pasien</label>
<input id="namaPasien" placeholder="">

<div class="row">
<div style="flex:1">
<label>Usia (tahun)</label>
<input id="usia" type="number" min="0" placeholder="">
</div>
<div style="width:120px">
<label>JK</label>
<select id="jk"><option value="F">F</option><option value="M">M</option></select>
</div>
</div>

<div id="bbRow" style="display:none">
<label>Berat Badan (kg)</label>
<input id="bb" placeholder="">
<div class="muted">Field BB muncul otomatis jika usia &lt; 18 tahun.</div>
</div>

<label>Diagnosis (Dx)</label>
<input id="dx" placeholder="">

<label>Subjektif (S)</label>
<textarea id="s" rows="2" placeholder=""></textarea>

<label>Vitals / TTV</label>
<div class="vitals-grid">
<div><label>TD</label><input id="td" placeholder="177/98"></div>
<div><label>HR</label><input id="hr" placeholder="102"></div>
<div><label>RR</label><input id="rr" placeholder="25"></div>
<div><label>T (Â°C)</label><input id="temp" placeholder="36.4"></div>
<div><label>SpOâ‚‚ (%)</label><input id="spo2" placeholder="93"></div>
<div><label>GCS E V M</label><div class="gcs"><input id="gcsE" maxlength="1" placeholder="2"><input id="gcsV" maxlength="1" placeholder="1"><input id="gcsM" maxlength="1" placeholder="4"></div></div>
</div>

<label>Pemeriksaan Fisik (isi sesuai format kamu)</label>
<div class="section-block">
<label>Kepala</label>
        <input id="kepala" placeholder="CA +/+, SI -/-">
        <input id="kepala" placeholder="CA -/-, SI -/-">

<label>Thorax</label>
        <input id="thorax" placeholder="ves +/+, rh -/-, wh -/-, BJ reg, m -, g -">
        <input id="thorax" placeholder="ves +/+, rh -/-, wh -/-. BJ reg, m -, g -">

<label>Abdomen</label>
<input id="abdomen" placeholder="supel, BU +">

<label>Ekstremitas</label>
<input id="ekstremitas" placeholder="akral hangat, CRT <2s">

<label>Catatan fisik lain (opsional)</label>
<input id="lain" placeholder="">
</div>

<label>Objektif (O) â€” auto dari TTV & Fisik (bisa diedit)</label>
<textarea id="o" rows="4"></textarea>

<label>Terapi IGD (P)</label>
<textarea id="p" rows="4" placeholder="- IVFD NaCl 0.9% 20 tpm
- NGT DC
- Inj. Ranitidin 50 mg/12 jam
- O2 NC 3 LPM"></textarea>

<div class="row" style="margin-top:8px">
<button id="buatBtn" class="btn" style="flex:1">Buat & Tampilkan</button>
<button id="copyBtn" class="btn secondary" style="width:110px" disabled>Copy</button>
</div>

<div class="row" style="margin-top:8px">
<button id="aiQuickBtn" class="btn outline" style="flex:1">Analisis AI (Quick â†’ ChatGPT)</button>
<button id="saveBtn" class="btn" style="width:140px">Simpan ke History</button>
</div>

<div style="margin-top:6px">
<label>Template Cepat</label>
<select id="templateSelect"></select>
<div style="display:flex;gap:8px;margin-top:6px">
<button id="applyTemplate" class="btn small">Pakai</button>
<button id="addTemplate" class="btn small secondary">Tambah Template</button>
<button id="manageTemplate" class="btn small outline">Kelola Template</button>
</div>
</div>

</section>

<aside class="right">
<h4>Hasil Konsul</h4>
<div id="hasil" class="output" role="status" aria-live="polite"></div>

<h4 style="margin-top:12px">History</h4>
<div id="history" class="history"></div>

<div style="margin-top:10px" class="muted">Catatan: AI Quick Copy membuka ChatGPT; tidak ada data pasien dikirim otomatis.</div>
</aside>
</main>

<!-- Settings modal -->
<div id="settings" class="modal" aria-hidden="true">
<div class="content">
<h4>Pengaturan</h4>
<label>Nama Dokter</label><input id="setNama" placeholder="dr. Agung Satria">
<label>Nama RS</label><input id="setRS" placeholder="RSAM">
<label>Jumlah shift</label><select id="setShift"><option>2</option><option selected>3</option><option>4</option></select>
<div style="display:flex;gap:8px;margin-top:12px;justify-content:flex-end">
<button id="saveSet" class="btn">Simpan</button>
<button id="closeSet" class="btn secondary">Tutup</button>
</div>
<p class="muted" style="margin-top:8px">Pengaturan disimpan di perangkat ini (localStorage).</p>
</div>
</div>

<!-- Manage templates modal -->
<div id="manageTemplates" class="modal" aria-hidden="true">
<div class="content">
<h4>Kelola Template</h4>
<div id="templateList"></div>
<div style="display:flex;gap:8px;margin-top:12px;justify-content:flex-end">
<button id="closeTpl" class="btn secondary">Tutup</button>
</div>
</div>
</div>

<footer class="footer">Â© 2025 Ruang Dokter</footer>

<script src="script.js"></script>
</body>
</html>
